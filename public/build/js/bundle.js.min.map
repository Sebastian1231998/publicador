{"version":3,"sources":["galeria.js","mensajes.js","modals.js","publicaciones.js","registro.js"],"names":["eventListeners","crearGaleria","galeria","document","querySelector","i","li","createElement","style","textAlign","listStyle","img","height","padding","cursor","classList","add","src","dataset","imagenId","appendChild","onclick","crearImagen","e","console","log","target","id","parseInt","overlayContent","overlay","position","width","top","backgroundColor","zIndex","right","display","placeItems","overflow","imgGrande","cantidad","querySelectorAll","length","maxWidth","body","remove","addEventListener","id_usuarioRecibe","nombre","apellido","foto_perfi_recibe","foto_perfi_envia","valida_message","instanceCategoria","idUsuarioComment","idPublicacionComment","validador","validateLectureMessage","val_notify","obj_temp","uCollection","params","URLSearchParams","location","search","get","eventListenersMessages","mensajes","leeInput","usersMessage","forEach","user","liElement","tagName","parentElement","getAttribute","userContactHref","userContactParrafo","setAttribute","children","textContent","consultaMessages","user_template","contains","xhttpMessages","XMLHttpRequest","idUsuarioEnvia","open","onload","this","status","foto_perfil","respuesta","JSON","parse","responseText","resultado","foto_perfil_new","usuario_envia_foto","foto_perfil_otra","usuario_recibe_foto","bodyMessageContent","lenght","liPreview","id_profile","validate","eleme","marginBottom","divAvatar","alignItems","divMessage","flexDirection","gap","spanFecha","fontSize","fecha_creacion","aHref","imgProfile","borderRadius","p","margin","contenido","scrollIntoView","behavior","block","inline","send","mensajesRecibidos","localStorage","getItem","mensaje","user_id_recibe","profile_id","indexActual","indexOf","splice","setItem","stringify","data","FormData","append","deleteNotificationMessage","notify","inputMessage","submitMessage","valueMessage","value","preventDefault","undefined","mensajeMessage","fechaActual","Date","hour","getHours","minutes","getMinutes","seconds","getSeconds","datos","enviosActuales","enviados","index","other","getFullYear","getMonth","getDate","insertMessage","nodoExisitente","mensajesCreados","idUsuarioRecibe","childNodes","tipo","formContacto","divMensaje","paddin","opacity","transition","cuerpoMensaje","innerHTML","setTimeout","cambiaFotoPerfil","buttonModal","buttonModalCategoria","elems","M","Modal","init","eligeCategoria","categorias","inputCategoria","modalCategoria","categoria","innerText","replace","ondblclick","trim","divCategoria","modalLikeUser","button","likeUser","like","idUsuario","idPublicaciones","idLocal","cantidadLike","xhttp","local_like","icon","id_publicaciones","count_likes","hijo","outerText","nuevaCadena","nombreCompleto","validadorLike","modalContent","div","justifyContent","divFlex","aHrefProfile","color","crearComments","valueComments","comentario","keyCode","comentarioForm","insertComments","comment","inpuComment","xhttpComment","divCampoPublicador","marginLeft","border","Pcomment","descripcionComentario","clone","cloneNode","consultaComments","consulta","bodyComment","queryComments","elem","span","rutaFoto","marginRight","descripcion_comentario","insertBefore","commentsPublication","val","registroUser","fechaNacimiento","password","email","genero","accion","registro","getUTCDay","insertarBD","Swal","fire","window","href"],"mappings":"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","file":"bundle.js","sourcesContent":["document.addEventListener('DOMContentLoaded' , function(){\r\n\r\n    eventListeners(); \r\n\r\n})\r\n\r\n\r\nfunction eventListeners(){\r\n    crearGaleria();\r\n\r\n}\r\n\r\nfunction crearGaleria(){\r\n\r\n    const galeria = document.querySelector('.galeria-imagenes-profile');\r\n  \r\n    \r\n    \r\n    for(let i = 1; i <= 6; i++){\r\n  \r\n      const li = document.createElement('LI');\r\n\r\n      li.style.textAlign = 'center';\r\n      li.style.listStyle = 'none';\r\n  \r\n      const img = document.createElement('IMG');\r\n\r\n      img.style.height = '142px';\r\n      img.style.padding = '1rem';\r\n\r\n      img.style.cursor = 'pointer';\r\n      img.classList.add('z-depth-3');\r\n  \r\n      img.src = `/build/img/perfil_prueba_${i}.webp`;\r\n\r\n      img.dataset.imagenId = i;\r\n  \r\n      li.appendChild(img);\r\n  \r\n      galeria.appendChild(li);\r\n\r\n      li.onclick = crearImagen; \r\n\r\n\r\n\r\n\r\n\r\n    }\r\n  \r\n  }\r\n\r\n  function crearImagen(e){\r\n  \r\n\r\n    console.log(\"diste click en imagen: \" + e.target)\r\n    \r\n    const id = parseInt(e.target.dataset.imagenId);\r\n\r\n\r\n\r\n     \r\n\r\n \r\n      const overlayContent = document.createElement('DIV');    \r\n      const overlay = document.createElement('DIV'); \r\n\r\n      overlayContent.style.position = 'fixed';\r\n      overlayContent.style.width = '100%'; \r\n      overlayContent.style.height = '100vh'; \r\n      overlayContent.style.top = '0'; \r\n      overlayContent.style.backgroundColor = 'rgb(41 41 41 / 50%)'; \r\n      overlayContent.style.zIndex = '1'; \r\n\r\n\r\n\r\n      overlay.classList.add('overlay');\r\n  //agregar estilos por falla en SASS - eliminar despues\r\n  \r\n  overlay.style.position = 'fixed'; \r\n  overlay.style.width = '31%'; \r\n  overlay.style.height = '67%'; \r\n  overlay.style.top = '25rem'; \r\n  overlay.style.right = '56rem'; \r\n  overlay.style.backgroundColor = 'rgba(0,0,0, .5s)'; \r\n  overlay.style.display = 'grid'; \r\n  overlay.style.placeItems = 'center'; \r\n \r\n  overlay.style.overflow = 'hidden';\r\n\r\n\r\n  overlayContent.appendChild(overlay);\r\n\r\n\r\n  //crear la imagen \r\n\r\n  const imgGrande = document.createElement('IMG');\r\n  imgGrande.src = `/build/img/perfil_prueba_${id}.webp`;\r\n  imgGrande.classList.add('imagen-grande'); \r\n\r\n\r\n  cantidad = document.querySelectorAll('.overlay').length;\r\n\r\n  imgGrande.style.maxWidth = '100%';\r\n\r\n  //agregar hijo al overlay que es imagen\r\n\r\n  overlay.appendChild(imgGrande);\r\n\r\n  //llamar al body html \r\n\r\n  const body = document.querySelector('body')\r\n  body.appendChild(overlayContent);\r\n  body.classList.add('fijar-body'); \r\n\r\n\r\n  overlay.onclick = function(){\r\n\r\n    overlayContent.remove(); \r\n    \r\n\r\n    console.log(cantidad);\r\n\r\n\r\n  \r\n    body.classList.remove('fijar-body');\r\n     \r\n  }\r\n\r\n  \r\n \r\n  }\r\n","let validador = 0;\r\n\r\nlet validateLectureMessage = false; \r\n\r\nlet val_notify = 1;\r\n\r\nlet id_usuarioRecibe;\r\nlet nombre;\r\nlet apellido;\r\nlet foto_perfi_recibe;\r\nlet foto_perfi_envia;\r\nlet valida_message;\r\n\r\nlet obj_temp =[];\r\nlet uCollection = false;\r\n\r\nlet params = new URLSearchParams(location.search);\r\nlet id = params.get(\"id\");\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  eventListenersMessages();\r\n});\r\n\r\nfunction eventListenersMessages() {\r\n  mensajes();\r\n  leeInput();\r\n}\r\n\r\nfunction mensajes() {\r\n  let usersMessage = document.querySelectorAll(\".user-message\");\r\n\r\n  usersMessage.forEach((user) => {\r\n    user.addEventListener(\"click\", function (e) {\r\n      let liElement;\r\n\r\n      if (e.target.tagName == \"P\") {\r\n        liElement = e.target.parentElement.parentElement;\r\n      } else if (e.target.tagName == \"DIV\") {\r\n        liElement = e.target.parentElement;\r\n      } else {\r\n        liElement = e.target;\r\n      }\r\n\r\n      id_usuarioRecibe = user.getAttribute(\"user-id\");\r\n      nombre = user.getAttribute(\"user-nombre\");\r\n      apellido = user.getAttribute(\"user-apellido\");\r\n      foto_perfi_recibe = user.getAttribute(\"foto-perfil\");\r\n\r\n      let userContactHref = document.querySelector(\".user-contact .avatar a\");\r\n      let userContactParrafo = document.querySelector(\r\n        \".user-contact .avatar p\"\r\n      );\r\n\r\n      userContactHref.setAttribute(\r\n        \"href\",\r\n        `/user/profile?id=${id_usuarioRecibe}`\r\n      );\r\n\r\n      if (foto_perfi_recibe === \"\") {\r\n        foto_perfi_recibe = \"avatar_null.png\";\r\n      }\r\n\r\n      userContactHref.children[0].setAttribute(\r\n        \"src\",\r\n        `/imagenes/profile/${foto_perfi_recibe}`\r\n      );\r\n\r\n      userContactParrafo.textContent = ` ${nombre} ${apellido} `;\r\n\r\n      liElement.style.backgroundColor = \"aliceblue\";\r\n      liElement.classList.add(\"aliceblue\");\r\n\r\n      consultaMessages(foto_perfi_recibe);\r\n      validador++;\r\n\r\n      if (validador == 2) {\r\n        usersMessage.forEach((user_template) => {\r\n          if (user_template.classList.contains(\"aliceblue\")) {\r\n            user_template.classList.remove(\"aliceblue\");\r\n            user_template.style.backgroundColor = \"white\";\r\n\r\n            liElement.style.backgroundColor = \"aliceblue\";\r\n            liElement.classList.add(\"aliceblue\");\r\n\r\n            validador = 1;\r\n          }\r\n        });\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\nfunction consultaMessages(foto_perfi_recibe) {\r\n  let xhttpMessages = new XMLHttpRequest();\r\n\r\n  //abrir la conexion\r\n\r\n  let inputMessage = document.querySelector(\".input-message\");\r\n  let idUsuarioEnvia = inputMessage.getAttribute(\"data-userId-send\");\r\n\r\n  xhttpMessages.open(\r\n    \"GET\",\r\n    `/models/messages?id=${idUsuarioEnvia}&recieve=${id_usuarioRecibe}`,\r\n    true\r\n  );\r\n\r\n  //leer la respuesta\r\n\r\n  xhttpMessages.onload = function () {\r\n    if (this.status == 200) {\r\n      let respuesta = JSON.parse(xhttpMessages.responseText).resultado;\r\n      let foto_perfil;\r\n      let foto_perfil_new = JSON.parse(\r\n        xhttpMessages.responseText\r\n      ).usuario_envia_foto;\r\n      let foto_perfil_otra = JSON.parse(\r\n        xhttpMessages.responseText\r\n      ).usuario_recibe_foto;\r\n\r\n      let bodyMessageContent = document.querySelector(\".body-message-content\");\r\n      uCollection = document.querySelector(\".message-user-collection\");\r\n\r\n      if (document.querySelectorAll(\".differente\") || respuesta.lenght == 0) {\r\n        let liAnteriores = document.querySelectorAll(\".differente\");\r\n\r\n        liAnteriores.forEach((liPreview) => {\r\n          liPreview.remove();\r\n        });\r\n      }\r\n\r\n      if (document.querySelector(\".differente-li\")) {\r\n        document.querySelector(\".differente-li\").remove();\r\n      }\r\n\r\n      let inputMessage = document.querySelector(\".input-message\");\r\n      let id_profile = inputMessage.getAttribute(\"data-userId-send\");\r\n\r\n      let validate = 0;\r\n\r\n      respuesta.forEach((eleme) => {\r\n        let li = document.createElement(\"LI\");\r\n\r\n        li.classList.add(\"collection-item\", \"differente\", \"avatar\");\r\n        validate++;\r\n\r\n        if (validate == respuesta.length) {\r\n          li.setAttribute(\"id\", `ultimateMessage`);\r\n        }\r\n\r\n        li.style.padding = \"0 1rem\";\r\n        li.style.height = \"auto\";\r\n        li.style.marginBottom = \"5rem\";\r\n\r\n        let divAvatar = document.createElement(\"DIV\");\r\n        divAvatar.style.display = \"flex\";\r\n        divAvatar.classList.add(\".avatar\");\r\n        divAvatar.style.textAlign = \"-webkit-center\";\r\n        divAvatar.style.padding = \"1rem 1rem\";\r\n        divAvatar.style.textAlign = \"flex\";\r\n        divAvatar.style.alignItems = \"center\";\r\n\r\n        let divMessage = document.createElement(\"DIV\");\r\n        divMessage.style.display = \"flex\";\r\n        divMessage.style.flexDirection = \"column-reverse\";\r\n        divMessage.style.gap = \"1rem\";\r\n\r\n        let spanFecha = document.createElement(\"SPAN\");\r\n        spanFecha.style.fontSize = \".9rem\";\r\n        spanFecha.textContent = `${eleme.fecha_creacion}`;\r\n\r\n        let aHref = document.createElement(\"A\");\r\n\r\n        if (id_profile != eleme.idUsuarioEnvia && foto_perfil_otra == \"\") {\r\n          foto_perfil = \"avatar_null.png\";\r\n        } else if (id_profile != eleme.idUsuarioEnvia) {\r\n          foto_perfil = foto_perfil_otra;\r\n        } else {\r\n          foto_perfil = foto_perfil_new;\r\n        }\r\n\r\n        let imgProfile = document.createElement(\"IMG\");\r\n        imgProfile.setAttribute(\"src\", `/imagenes/profile/${foto_perfil}`);\r\n        imgProfile.style.width = \"50px\";\r\n        imgProfile.style.borderRadius = \"10rem\";\r\n        imgProfile.style.height = \"50px\";\r\n\r\n        let p = document.createElement(\"P\");\r\n        p.style.fontSize = \"1.6rem\";\r\n        p.style.margin = \"2rem\";\r\n\r\n        p.textContent = eleme.contenido;\r\n\r\n        aHref.appendChild(imgProfile);\r\n\r\n        divMessage.appendChild(spanFecha);\r\n\r\n        divMessage.appendChild(aHref);\r\n\r\n        divAvatar.appendChild(divMessage);\r\n\r\n        divAvatar.appendChild(p);\r\n\r\n        li.appendChild(divAvatar);\r\n\r\n        uCollection.appendChild(li);\r\n\r\n        bodyMessageContent.appendChild(uCollection);\r\n      });\r\n    }\r\n\r\n    let liUltimate = document.querySelector(\"#ultimateMessage\");\r\n\r\n    liUltimate.scrollIntoView({\r\n      behavior: \"smooth\",\r\n      block: \"nearest\",\r\n      inline: \"start\",\r\n    });\r\n  };\r\n\r\n  xhttpMessages.send();\r\n\r\n\r\n  let mensajesRecibidos = JSON.parse(localStorage.getItem('envios'))\r\n\r\n  console.log(mensajesRecibidos)\r\n\r\n\r\n  mensajesRecibidos.forEach(mensaje => {\r\n\r\n\r\n    if(mensaje.user_id_recibe == idUsuarioEnvia && mensaje.profile_id == id_usuarioRecibe){\r\n\r\n      let indexActual = mensajesRecibidos.indexOf(mensaje)\r\n\r\n      console.log(indexActual);\r\n\r\n      if( indexActual != -1){\r\n\r\n        mensajesRecibidos.splice( indexActual, 1 ); \r\n        \r\n        localStorage.setItem(\"envios\", JSON.stringify(mensajesRecibidos))\r\n\r\n\r\n\r\n       let data = new FormData();\r\n\r\n       data.append('elimina_notificacion', 3);\r\n\r\n       deleteNotificationMessage(data)\r\n       \r\n      }\r\n\r\n    }\r\n    \r\n  });\r\n\r\n}\r\n\r\nfunction deleteNotificationMessage(data){\r\n\r\n  //crear form data\r\n\r\n  console.log(\"estoy aqui...\")\r\n\r\n //crear objeto\r\n\r\n let xhttpMessages = new XMLHttpRequest();\r\n\r\n //abrir la conexion\r\n\r\n xhttpMessages.open(\"POST\", \"/models/messages/updateNotification\", true);\r\n\r\n xhttpMessages.onload = function () {\r\n  if (this.status == 200) {\r\n \r\n    let respuesta = JSON.parse(xhttpMessages.responseText);\r\n\r\n     if(respuesta.respuesta == \"correcto\"){\r\n\r\n   \r\n      let textoNotificacion = document.querySelector('.texto-notificacion');\r\n      textoNotificacion.textContent = respuesta.notify;\r\n    }\r\n\r\n  }\r\n\r\n}\r\nxhttpMessages.send(data);\r\n}\r\n\r\nfunction leeInput() {\r\n  let inputMessage = document.querySelector(\".input-message\");\r\n  let submitMessage = document.querySelector(\".submitMensaje\");\r\n\r\n  let valueMessage = \"\";\r\n\r\n  inputMessage.addEventListener(\"input\", function (e) {\r\n    valueMessage = e.target.value;\r\n  });\r\n\r\n  submitMessage.addEventListener(\"click\", function (e) {\r\n    e.preventDefault();\r\n\r\n    if (id_usuarioRecibe == undefined) {\r\n      mensajeMessage(\"no estas enviando a ningun usuario el mensaje\", \"error\");\r\n    } else {\r\n      if (valueMessage == \"\") {\r\n        mensajeMessage(\"el mensaje esta vacio\", \"error\");\r\n      }\r\n\r\n      let contenido = valueMessage;\r\n\r\n      let idUsuarioEnvia = inputMessage.getAttribute(\"data-userId-send\");\r\n      foto_perfi_envia = inputMessage.getAttribute(\"foto-perfil-userActive\");\r\n\r\n      let validate = false;\r\n\r\n\r\n      let fechaActual = new Date();\r\n\r\n      hour = fechaActual.getHours();\r\n      minutes = fechaActual.getMinutes();\r\n      seconds = fechaActual.getSeconds();\r\n      let datos = new FormData();\r\n\r\n      let enviosActuales = JSON.parse(localStorage.getItem(\"envios\"));\r\n\r\n\r\n      if(enviosActuales == null){\r\n\r\n        enviosActuales = [];\r\n      }\r\n\r\n      if(enviosActuales.length == 0){\r\n\r\n        obj_temp = [...enviosActuales, \r\n          {enviados: val_notify, user_id_recibe: id_usuarioRecibe, profile_id:idUsuarioEnvia}\r\n        ];\r\n\r\n        localStorage.setItem(\"envios\", JSON.stringify(obj_temp));\r\n\r\n\r\n   datos.append(\"cantidad_enviado\", 1);\r\n      }else{\r\n\r\n        for(let i = 0; i < enviosActuales.length ; i++){\r\n\r\n          console.log(enviosActuales[i].user_id_recibe + \"==\" + id_usuarioRecibe )\r\n          console.log(enviosActuales[i].profile_id + \"==\" +  idUsuarioEnvia )\r\n  \r\n  \r\n          if (enviosActuales[i].user_id_recibe == id_usuarioRecibe && enviosActuales[i].profile_id == idUsuarioEnvia ) {\r\n            validate = true;\r\n            break;\r\n          }else{\r\n\r\n            validate = false;\r\n          }\r\n\r\n        }\r\n\r\n\r\n         console.log(validate)\r\n               \r\n        if(validate){\r\n\r\n          enviosActuales.forEach( (enviados, index) =>{\r\n\r\n\r\n            if(enviados.user_id_recibe == id_usuarioRecibe && enviados.profile_id == idUsuarioEnvia){\r\n\r\n              console.log(enviados.enviados + \"con ID\" + enviados.user_id_recibe)\r\n\r\n              if( enviados.enviados >= 1){\r\n\r\n              \r\n                obj_temp = {\r\n\r\n                        enviados: 2, \r\n                        user_id_recibe: id_usuarioRecibe,\r\n                        profile_id:idUsuarioEnvia\r\n                }\r\n\r\n               let indexActual = enviosActuales.indexOf(enviados)\r\n\r\n               console.log(indexActual);\r\n\r\n               if( indexActual != -1){\r\n\r\n                enviosActuales.splice( indexActual, 1 , obj_temp );\r\n               }\r\n\r\n            \r\n\r\n                localStorage.setItem(\"envios\", JSON.stringify(enviosActuales));\r\n\r\n                datos.append(\"cantidad_enviado\", 2);\r\n              }\r\n            }\r\n          })\r\n          \r\n        }else{\r\n\r\n          other=1;\r\n          obj_temp = [...enviosActuales, \r\n            {\r\n              enviados: other, \r\n              user_id_recibe: id_usuarioRecibe,\r\n              profile_id:idUsuarioEnvia\r\n\r\n            }\r\n          ]; \r\n\r\n          val_notify=1;\r\n          localStorage.setItem(\"envios\", JSON.stringify(obj_temp));\r\n          datos.append(\"cantidad_enviado\", 1);\r\n        }\r\n\r\n        \r\n  \r\n \r\n\r\n      }\r\n\r\n\r\n\r\n\r\n      datos.append(\"contenido\", contenido);\r\n      datos.append(\"idUsuarioRecibe\", id_usuarioRecibe);\r\n      datos.append(\"idUsuarioEnvia\", idUsuarioEnvia);\r\n      datos.append(\r\n        \"fecha_creacion\",\r\n        fechaActual.getFullYear() +\r\n          \"-\" +\r\n          \"0\" +\r\n          (fechaActual.getMonth() + 1) +\r\n          \"-\" +\r\n          \"0\" +\r\n          (fechaActual.getDate() + 1) +\r\n          \" \" +\r\n          hour +\r\n          \":\" +\r\n          minutes +\r\n          \":\" +\r\n          seconds\r\n      );\r\n\r\n      inputMessage.value = \"\";\r\n   \r\n\r\n      insertMessage(datos);\r\n\r\n      contenido = \"\";\r\n\r\n    }\r\n  });\r\n}\r\n\r\nfunction insertMessage(datos) {\r\n  //crear objeto\r\n\r\n  let xhttpMessages = new XMLHttpRequest();\r\n\r\n  //abrir la conexion\r\n\r\n  xhttpMessages.open(\"POST\", \"/models/messages\", true);\r\n\r\n  //leer la respuesta\r\n\r\n  xhttpMessages.onload = function () {\r\n    if (this.status == 200) {\r\n      let respuesta = JSON.parse(xhttpMessages.responseText);\r\n\r\n      console.log(xhttpMessages.responseText);\r\n\r\n      if (respuesta.respuesta == \"correcto\") {\r\n        let bodyMessageContent = document.querySelector(\r\n          \".body-message-content\"\r\n        );\r\n        let uCollection = document.querySelector(\".message-user-collection\");\r\n\r\n        if (document.querySelector(\".differente-body\")) {\r\n          document.querySelector(\".differente-body\").remove();\r\n        }\r\n\r\n        if (document.querySelector(\"#ultimateMessage\")) {\r\n          document.querySelector(\"#ultimateMessage\").setAttribute(\"id\", null);\r\n        }\r\n\r\n        let li = document.createElement(\"LI\");\r\n        li.setAttribute(\"id\", \"ultimateMessage\");\r\n        li.classList.add(\"collection-item\", \"avatar\", \"differente-li\");\r\n        li.style.padding = \"0 1rem\";\r\n        li.style.height = \"auto\";\r\n        li.style.marginBottom = \"5rem\";\r\n\r\n        let divAvatar = document.createElement(\"DIV\");\r\n        divAvatar.style.display = \"flex\";\r\n        divAvatar.classList.add(\".avatar\");\r\n        divAvatar.style.textAlign = \"-webkit-center\";\r\n        divAvatar.style.padding = \"1rem 1rem\";\r\n        divAvatar.style.textAlign = \"flex\";\r\n        divAvatar.style.alignItems = \"center\";\r\n\r\n        let divMessage = document.createElement(\"DIV\");\r\n        divMessage.style.display = \"flex\";\r\n        divMessage.style.flexDirection = \"column-reverse\";\r\n        divMessage.style.gap = \"1rem\";\r\n\r\n        let spanFecha = document.createElement(\"SPAN\");\r\n        spanFecha.style.fontSize = \".9rem\";\r\n        spanFecha.textContent = `${respuesta.fecha_creacion}`;\r\n\r\n        let aHref = document.createElement(\"A\");\r\n\r\n        if (foto_perfi_envia === \"\") {\r\n          foto_perfi_envia = \"avatar_null.png\";\r\n        }\r\n        let imgProfile = document.createElement(\"IMG\");\r\n        imgProfile.setAttribute(\"src\", `/imagenes/profile/${foto_perfi_envia}`);\r\n        imgProfile.style.width = \"50px\";\r\n        imgProfile.style.borderRadius = \"10rem\";\r\n        imgProfile.style.height = \"50px\";\r\n\r\n        let p = document.createElement(\"P\");\r\n        p.style.fontSize = \"1.6rem\";\r\n        p.style.margin = \"2rem\";\r\n\r\n        p.textContent = respuesta.contenido;\r\n\r\n        aHref.appendChild(imgProfile);\r\n\r\n        divMessage.appendChild(spanFecha);\r\n\r\n        divMessage.appendChild(aHref);\r\n\r\n        divAvatar.appendChild(divMessage);\r\n\r\n        divAvatar.appendChild(p);\r\n\r\n        li.appendChild(divAvatar);\r\n\r\n        uCollection.appendChild(li);\r\n\r\n        bodyMessageContent.appendChild(uCollection);\r\n\r\n        let Ultimate = document.querySelector(\"#ultimateMessage\");\r\n\r\n        Ultimate.scrollIntoView({\r\n          behavior: \"smooth\",\r\n          block: \"nearest\",\r\n          inline: \"start\",\r\n        });\r\n      }\r\n\r\n      let mensajesCreados = document.querySelectorAll(\".special-messages\");\r\n\r\n      let nodoExisitente;\r\n      for (let i = 0; i < mensajesCreados.length; i++) {\r\n        if (\r\n          mensajesCreados[i].getAttribute(\"user-id\") ==\r\n          respuesta.idUsuarioRecibe\r\n        ) {\r\n          valida_message = true;\r\n\r\n          nodoExisitente = mensajesCreados[i].childNodes;\r\n          break;\r\n        } else {\r\n          valida_message = false;\r\n        }\r\n      }\r\n\r\n      if (valida_message) {\r\n        nodoExisitente[1].childNodes[5].textContent = respuesta.contenido;\r\n      }\r\n    }\r\n  };\r\n\r\n  //enviar los datos\r\n\r\n  xhttpMessages.send(datos);\r\n}\r\n\r\nfunction mensajeMessage(mensaje, tipo) {\r\n  let formContacto = document.querySelector(\".campo-message\");\r\n\r\n  if (document.querySelector(\".mensaje\") == null) {\r\n    let divMensaje = document.createElement(\"div\");\r\n    divMensaje.classList.add(\"mensaje\", tipo);\r\n\r\n    divMensaje.style.width = \"100%\";\r\n    divMensaje.style.borderRadius = \"1rem%\";\r\n    divMensaje.style.paddin = \".1rem 0\";\r\n    divMensaje.style.opacity = \"1\";\r\n    divMensaje.style.transition = \"opacity 2s ease%\";\r\n    divMensaje.style.backgroundColor = \"red\";\r\n    divMensaje.style.textAlign = \"center\";\r\n\r\n    let cuerpoMensaje = document.createElement(\"div\");\r\n    cuerpoMensaje.classList.add(\"contenido-mensaje\");\r\n\r\n    cuerpoMensaje.innerHTML = `<p style=\"color:white\">${mensaje}</p>`;\r\n\r\n    divMensaje.appendChild(cuerpoMensaje);\r\n\r\n    formContacto.appendChild(divMensaje);\r\n\r\n    setTimeout(() => {\r\n      divMensaje.remove();\r\n    }, 3000);\r\n  }\r\n}\r\n","let instanceCategoria;\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  cambiaFotoPerfil();\r\n  eligeCategoria();\r\n});\r\n\r\nfunction cambiaFotoPerfil() {\r\n  let buttonModal;\r\n  if (document.querySelector(\".imagen_perfil\")) {\r\n    buttonModal = document.querySelector(\".imagen_perfil\");\r\n  }\r\n  buttonModal.addEventListener(\"click\", function () {\r\n    var elems = document.querySelectorAll(\".modal\");\r\n    var instances = M.Modal.init(elems);\r\n  });\r\n\r\n  let buttonModalCategoria;\r\n  if (document.querySelector(\".categoria-publicador\")) {\r\n    buttonModalCategoria = document.querySelector(\".categoria-publicador\");\r\n  }\r\n  buttonModalCategoria.addEventListener(\"click\", function () {\r\n    var elems = document.querySelectorAll(\".modal\");\r\n    var instances = M.Modal.init(elems);\r\n  });\r\n\r\n\r\n \r\n}\r\n\r\nfunction eligeCategoria() {\r\n  let categorias = document.querySelectorAll(\".collection-item\");\r\n  let inputCategoria = document.querySelector(\".categoria-input\");\r\n\r\n  let modalCategoria = document.querySelector(\"#categoriaModal\");\r\n\r\n  console.log(categorias);\r\n\r\n  categorias.forEach((categoria) => {\r\n    categoria.addEventListener(\"click\", function (e) {\r\n      let str = e.target.innerText;\r\n      let value = str.replace(\"send\", \" \");\r\n\r\n      if (categoria.style.backgroundColor == \"\") {\r\n        categoria.style.backgroundColor = \"blue\";\r\n\r\n        categoria.ondblclick = function (e) {\r\n          console.log(\"doble click\");\r\n\r\n          inputCategoria.value = value.trim();\r\n          console.log(\"categoria:  \" + inputCategoria.value);\r\n\r\n          modalCategoria.style.display = \"none\";\r\n\r\n          if (document.querySelector(\".modal-overlay\")) {\r\n            let modalOverlay = document.querySelector(\".modal-overlay\");\r\n            modalOverlay.remove();\r\n            let divCategoria = document.querySelector(\r\n              \".categoria-seleccionada\"\r\n            );\r\n            divCategoria.textContent = inputCategoria.value;\r\n            divCategoria.style.display = \"block\";\r\n            categoria.style.backgroundColor = \"white\";\r\n          }\r\n        };\r\n      }\r\n    });\r\n  });\r\n}\r\n","let idUsuarioComment;\r\nlet idPublicacionComment;\r\nlet validate = false;\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  likeUser();\r\n  modalLikeUser();\r\n  crearComments();\r\n  consultaComments();\r\n});\r\nfunction modalLikeUser() {\r\n  let buttons = document.querySelectorAll(\".you-like-href\");\r\n\r\n  buttons.forEach((button) => {\r\n    button.addEventListener(\"click\", function () {\r\n      var elems = document.querySelectorAll(\".modal\");\r\n      var instances = M.Modal.init(elems);\r\n    });\r\n  });\r\n}\r\n\r\nfunction likeUser() {\r\n  let likes = document.querySelectorAll(\".like-publicador\");\r\n\r\n  likes.forEach((like) => {\r\n    like.addEventListener(\"click\", function (e) {\r\n      let idUsuario = parseInt(like.getAttribute(\"user-id\"), 10);\r\n      let idPublicaciones = parseInt(like.getAttribute(\"id-publicaciones\"), 10);\r\n      let idLocal = parseInt(like.getAttribute(\"validate-data\"), 10);\r\n      let cantidadLike = parseInt(like.getAttribute(\"data-like\"), 10);\r\n      let value = like.getAttribute(\"validate-id\");\r\n\r\n      console.log(\r\n        \"publicacion:\" +\r\n          idPublicaciones +\r\n          \"esta es su cantidad de likes:\" +\r\n          cantidadLike\r\n      );\r\n\r\n      console.log(idUsuario);\r\n      console.log(idPublicaciones);\r\n      console.log(idLocal);\r\n\r\n      let datos = new FormData();\r\n\r\n      datos.append(\"likes\", cantidadLike);\r\n      datos.append(\"usuarioId\", idUsuario);\r\n      datos.append(\"id_publicaciones\", idPublicaciones);\r\n      datos.append(\"local_like\", idLocal);\r\n\r\n      let xhttp = new XMLHttpRequest();\r\n\r\n      xhttp.open(\"POST\", \"/homepage\", true);\r\n\r\n      xhttp.onload = function () {\r\n        if (this.status == 200) {\r\n          let respuesta = JSON.parse(xhttp.responseText);\r\n\r\n          if (respuesta.local_like == 0) {\r\n            console.log(respuesta);\r\n\r\n            like.style.backgroundColor = \"white\";\r\n\r\n            let icons = document.querySelectorAll(\".like-publicador\");\r\n\r\n            icons.forEach((icon) => {\r\n              console.log(icon.id_publicaciones + \"==\" + idPublicaciones);\r\n\r\n              if (icon.getAttribute(\"id-publicaciones\") == idPublicaciones) {\r\n                icon.parentElement.childNodes[3].innerText = `a ${respuesta.count_likes} les gusta esta publicacion`;\r\n              }\r\n            });\r\n\r\n            like.setAttribute(\"validate-data\", respuesta.local_like);\r\n            like.setAttribute(\"data-like\", respuesta.count_likes);\r\n\r\n            let modalContent = document.querySelector(\r\n              `#likesModal${value} .modal-content`\r\n            );\r\n\r\n            modalContent.childNodes.forEach((hijo) => {\r\n              if (hijo.outerText == undefined || hijo.outerText == \"\") {\r\n                console.log(\"estan vacias:\" + hijo.outerText);\r\n              } else {\r\n                let str = hijo.outerText;\r\n                let nuevaCadena = str.replace(\"Ver perfil\", \" \");\r\n\r\n                let nombreCompleto = `${respuesta.nombre} ${respuesta.apellido}`;\r\n\r\n                console.log(nuevaCadena.trim());\r\n\r\n                if (nuevaCadena.trim() == nombreCompleto.trim()) {\r\n                  console.log(\"Estoy aqui\");\r\n\r\n                  hijo.remove();\r\n                }\r\n              }\r\n            });\r\n          } else if (respuesta.local_like == 1) {\r\n            console.log(\"estas en 0\");\r\n\r\n            console.log(respuesta);\r\n\r\n            if (respuesta.like) {\r\n              like.style.backgroundColor = \"red\";\r\n\r\n              let icons = document.querySelectorAll(\".like-publicador\");\r\n\r\n              icons.forEach((icon) => {\r\n                console.log(icon.id_publicaciones + \"==\" + idPublicaciones);\r\n\r\n                if (icon.getAttribute(\"id-publicaciones\") == idPublicaciones) {\r\n                  if (respuesta.count_likes - 1 == 0) {\r\n                    icon.parentElement.childNodes[3].innerText = `a ti te gusta`;\r\n                  } else {\r\n                    icon.parentElement.childNodes[3].innerText = `a ti te gusta y a ${\r\n                      respuesta.count_likes - 1\r\n                    } personas mas les gusta esta publicacion`;\r\n                  }\r\n                }\r\n              });\r\n\r\n              like.setAttribute(\"validate-data\", respuesta.local_like);\r\n              like.setAttribute(\"data-like\", respuesta.count_likes);\r\n\r\n              let validadorLike = true;\r\n\r\n              if (validadorLike) {\r\n                let modalContent = document.querySelector(\r\n                  `#likesModal${value} .modal-content`\r\n                );\r\n\r\n                let li = document.createElement(\"LI\");\r\n                li.style.padding = \"1rem 1rem\";\r\n                li.style.height = \"8rem\";\r\n                li.style.listStyle = \"none\";\r\n                li.classList.add(\"collection-item\", \"avatar\");\r\n\r\n                let div = document.createElement(\"DIV\");\r\n                div.style.textAlign = \"center\";\r\n                div.style.padding = \"1rem 1rem\";\r\n                div.style.display = \"flex\";\r\n                div.style.alignItems = \"center\";\r\n                div.style.justifyContent = \"space-between\";\r\n                div.classList.add(\"collection-item\", \"avatar\");\r\n\r\n                let divFlex = document.createElement(\"DIV\");\r\n                divFlex.style.textAlign = \"center\";\r\n                divFlex.style.padding = \"1rem 1rem\";\r\n                divFlex.style.display = \"flex\";\r\n                divFlex.style.alignItems = \"center\";\r\n                divFlex.style.justifyContent = \"space-between\";\r\n\r\n                let aHref = document.createElement(\"a\");\r\n                aHref.setAttribute(\"href\", `/user/profile/?id=${respuesta.id}`);\r\n\r\n                let imgProfile = document.createElement(\"IMG\");\r\n                imgProfile.setAttribute(\r\n                  \"src\",\r\n                  `/imagenes/profile/${respuesta.foto_perfil}`\r\n                );\r\n                imgProfile.style.width = \"50px\";\r\n                imgProfile.style.height = \"50px\";\r\n                imgProfile.style.borderRadius = \"10rem\";\r\n\r\n                aHref.appendChild(imgProfile);\r\n\r\n                let p = document.createElement(\"P\");\r\n                p.style.fontSize = \"1.3rem\";\r\n                p.style.width = \"26rem\";\r\n\r\n                p.textContent = `${respuesta.nombre} ${respuesta.apellido}`;\r\n\r\n                divFlex.appendChild(aHref);\r\n                divFlex.appendChild(p);\r\n\r\n                let aHrefProfile = document.createElement(\"a\");\r\n                aHrefProfile.setAttribute(\r\n                  \"href\",\r\n                  `/user/profile/?id=${respuesta.id}`\r\n                );\r\n                aHrefProfile.style.padding = \"1rem 2rem\";\r\n                aHrefProfile.style.color = \"white\";\r\n                aHrefProfile.style.borderRadius = \"1rem\";\r\n                aHrefProfile.style.backgroundColor = \"#4c77ff\";\r\n\r\n                aHrefProfile.textContent = \"Ver perfil\";\r\n\r\n                div.appendChild(divFlex);\r\n                div.appendChild(aHrefProfile);\r\n\r\n                li.appendChild(div);\r\n\r\n                modalContent.appendChild(li);\r\n\r\n                validadorLike = false;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      };\r\n\r\n      xhttp.send(datos);\r\n    });\r\n  });\r\n}\r\n\r\nfunction crearComments() {\r\n\r\n\r\n  let comentarios = document.querySelectorAll(\"#comentario\");\r\n  let valueComments;\r\n\r\n  comentarios.forEach((comentario) => {\r\n    comentario.addEventListener(\"input\", function (e) {\r\n      valueComments = e.target.value;\r\n    });\r\n\r\n    comentario.addEventListener(\"keydown\", function (e) {\r\n      if (e.keyCode === 13) {\r\n        idUsuarioComment = comentario.getAttribute(\"user-id\");\r\n        idPublicacionComment = comentario.getAttribute(\"id-publicaciones\");\r\n\r\n        let comentarioForm = new FormData();\r\n        comentarioForm.append(\"descripcion_comentario\", valueComments);\r\n        comentarioForm.append(\"idUsuario\", idUsuarioComment);\r\n        comentarioForm.append(\"idPublicacion\", idPublicacionComment);\r\n        comentarioForm.append(\"accion\", \"crearComentario\");\r\n\r\n        insertComments(comentarioForm,comentario);\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\nfunction insertComments(comment,inpuComment) {\r\n  console.log(\"comunicando\");\r\n\r\n  let xhttpComment = new XMLHttpRequest();\r\n\r\n  xhttpComment.open(\"POST\", \"/models/comments\", true);\r\n\r\n  xhttpComment.onload = function () {\r\n    if (this.status == 200) {\r\n\r\n\r\n      let respuesta = JSON.parse(xhttpComment.responseText)\r\n\r\n\r\n          \r\n      \r\n          let divCampoPublicador = document.createElement(\"DIV\");\r\n          divCampoPublicador.classList.add(\"campo-publicador\",\"unique-create-comment\");\r\n          divCampoPublicador.style.backgroundColor = \"#dedcd8\";\r\n          divCampoPublicador.style.width = \"auto\";\r\n          divCampoPublicador.height = \"auto\";\r\n          divCampoPublicador.style.borderRadius = \"5px\";\r\n          divCampoPublicador.style.marginLeft = '2rem';\r\n          divCampoPublicador.style.border = \"1px solid #dac5c5\";\r\n          divCampoPublicador.style, (margin = \"0px 2rem\");\r\n\r\n          let Pcomment = document.createElement(\"P\");\r\n          Pcomment.style.fontSize = \"1.2rem\";\r\n          Pcomment.style.padding = \".5rem\";\r\n          Pcomment.textContent = respuesta.descripcionComentario;\r\n\r\n          divCampoPublicador.appendChild(Pcomment);\r\n\r\n           let clone = inpuComment.parentElement.parentElement.parentElement.cloneNode(true);\r\n\r\n\r\n           clone.children[1].children[1].children[0].value = ''\r\n      \r\n           inpuComment.parentElement.parentElement.appendChild(divCampoPublicador)\r\n\r\n       \r\n\r\n           inpuComment.parentElement.parentElement.parentElement.parentElement.appendChild(clone)\r\n\r\n\r\n          inpuComment.parentElement.remove();\r\n          inpuComment.remove();\r\n\r\n          crearComments()\r\n\r\n          validate = true; \r\n\r\n\r\n\r\n\r\n    }\r\n  };\r\n\r\n  xhttpComment.send(comment);\r\n}\r\n\r\nfunction consultaComments() {\r\n  let consultaComment = document.querySelectorAll(\".consultaComment\");\r\n\r\n  consultaComment.forEach((consulta) => {\r\n    consulta.addEventListener(\"click\", function () {\r\n      let validador = false;\r\n      idUsuarioComment = consulta.getAttribute(\"user-id\");\r\n      idPublicacionComment = consulta.getAttribute(\"id-publicaciones\");\r\n\r\n      console.log(\"ID usuari\" + idUsuarioComment);\r\n      console.log(\"ID publicacion\" + idPublicacionComment);\r\n\r\n      let bodyComments = document.querySelectorAll(\".body-comments\");\r\n\r\n      bodyComments.forEach((bodyComment) => {\r\n        if (\r\n          bodyComment.getAttribute(\"body-publicaciones\") == idPublicacionComment\r\n        ) {\r\n          if (bodyComment.style.display == \"block\") {\r\n            bodyComment.classList.add(\"animate__animated\", \"animate__fadeOut\");\r\n\r\n            setTimeout(() => {\r\n              bodyComment.style.display = \"none\";\r\n            }, 500);\r\n\r\n            validador = false;\r\n\r\n            queryComments(bodyComment, validador);\r\n          } else {\r\n            validador = true;\r\n            queryComments(bodyComment, validador);\r\n\r\n            bodyComment.style.display = \"block\";\r\n            bodyComment.classList.add(\"animate__animated\", \"animate__fadeIn\");\r\n\r\n            if (bodyComment.classList.contains(\"animate__fadeOut\")) {\r\n              bodyComment.classList.remove(\"animate__fadeOut\");\r\n            }\r\n          }\r\n        }\r\n      });\r\n    });\r\n  });\r\n}\r\n\r\nfunction queryComments(bodyComment, validador) {\r\n  let xhttpComment = new XMLHttpRequest();\r\n\r\n  xhttpComment.open(\r\n    \"GET\",\r\n    `/models/comments?id_publicacion=${idPublicacionComment}`,\r\n    true\r\n  );\r\n\r\n  xhttpComment.onload = function () {\r\n    if (this.status == 200) {\r\n      let respuesta = JSON.parse(xhttpComment.responseText);\r\n\r\n      if (validador) {\r\n        respuesta.forEach((elem) => {\r\n\r\n\r\n          let li = document.createElement(\"LI\");\r\n          li.style.listStyle = \"none\";\r\n          li.classList.add(\"commentsPublication\");\r\n\r\n          let span = document.createElement(\"SPAN\");\r\n          span.style.fontSize = \"1rem\";\r\n          span.style.padding = \"1rem\";\r\n\r\n          span.textContent = `${elem.nombre} ${elem.apellido}`;\r\n\r\n          let divAvatar = document.createElement(\"DIV\");\r\n          divAvatar.style.textAlign = \"-webkit-center\";\r\n          divAvatar.style.padding = \"1rem\";\r\n          divAvatar.style.display = \"flex\";\r\n          divAvatar.classList.add(\"avatar\");\r\n\r\n          let rutaFoto;\r\n          if (elem.foto_perfil == \"\") {\r\n            rutaFoto = \"/build/img/avatar_null.png\";\r\n          } else {\r\n            rutaFoto = `/imagenes/profile/${elem.foto_perfil}`;\r\n          }\r\n\r\n          let img = document.createElement(\"IMG\");\r\n          img.setAttribute(\"src\", rutaFoto);\r\n          img.style.width = \"70px\";\r\n          img.style.borderRadius = \"10rem\";\r\n          img.style.height = \"70px\";\r\n          img.style.marginRight = \"2rem\";\r\n\r\n          let divCampoPublicador = document.createElement(\"DIV\");\r\n          divCampoPublicador.classList.add(\"campo-publicador\");\r\n          divCampoPublicador.style.backgroundColor = \"#dedcd8\";\r\n          divCampoPublicador.style.width = \"auto\";\r\n          divCampoPublicador.height = \"auto\";\r\n          divCampoPublicador.style.borderRadius = \"5px\";\r\n          divCampoPublicador.style.border = \"1px solid #dac5c5\";\r\n          divCampoPublicador.style, (margin = \"0px 2rem\");\r\n\r\n          let Pcomment = document.createElement(\"P\");\r\n          Pcomment.style.fontSize = \"1.2rem\";\r\n          Pcomment.style.padding = \".5rem\";\r\n          Pcomment.textContent = elem.descripcion_comentario;\r\n\r\n          divCampoPublicador.appendChild(Pcomment);\r\n\r\n          divAvatar.appendChild(img);\r\n          divAvatar.appendChild(divCampoPublicador);\r\n\r\n          li.appendChild(span);\r\n          li.appendChild(divAvatar);\r\n\r\n         \r\n\r\n          bodyComment.insertBefore(li, bodyComment.children[0]);\r\n\r\n        });\r\n      } else {\r\n        let commentsPublication = document.querySelectorAll(\r\n          \".commentsPublication\"\r\n        );\r\n\r\n        let val = bodyComment.children.length - 2\r\n\r\n        \r\n        if(validate){\r\n\r\n          bodyComment.children[ val ].remove();\r\n          validate = false;\r\n        }\r\n\r\n\r\n        commentsPublication.forEach((comment) => {\r\n\r\n        \r\n            \r\n\r\n      \r\n          comment.remove();\r\n\r\n          if(document.querySelector('.unique-create-comment')){\r\n\r\n            document.querySelector('.unique-create-comment').parentElement.remove();\r\n          }\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  xhttpComment.send();\r\n}\r\n","document.addEventListener(\"DOMContentLoaded\", function () {\r\n  registroUser();\r\n});\r\n\r\nfunction registroUser() {\r\n  let submit = document.querySelector(\".submit\");\r\n\r\n  submit.addEventListener(\"click\", function (e) {\r\n    e.preventDefault();\r\n\r\n\r\n    let nombre = document.querySelector(\"#nombre\").value;\r\n    let apellido = document.querySelector(\"#apellido\").value;\r\n    let fechaNacimiento = document.querySelector(\"#fecha\").value;\r\n    let password = document.querySelector(\"#password\").value;\r\n    let email = document.querySelector(\"#email\").value;\r\n    let genero = document.querySelector(\".genero\").value;\r\n\r\n    let accion = e.target.value;\r\n\r\n\r\n    console.log(genero)\r\n\r\n    console.log(\"diste click en submit\")\r\n\r\n\r\n\r\n    let datos = {\r\n\r\n        nombre,\r\n        apellido,\r\n        fechaNacimiento,\r\n        password,\r\n        email,\r\n        genero\r\n\r\n      };\r\n\r\n\r\n      if(nombre.trim() === ''||\r\n         apellido.trim() === ''||\r\n         fechaNacimiento.trim() === ''||\r\n         password.trim() === ''||\r\n         email.trim() === ''||\r\n         genero.trim() === '' \r\n      ){\r\n\r\n\r\n        mensaje(\"todos los campos son obligatorios\", \"error\");\r\n      }else{\r\n\r\n        console.log(\"pasa validacion\")\r\n\r\n        let registro = new FormData();\r\n        let fechaActual = new Date();\r\n\r\n        registro.append(\"nombre\", nombre);\r\n        registro.append(\"apellido\",apellido);\r\n        registro.append(\"fecha_nacimiento\",fechaNacimiento);\r\n        registro.append(\"password\",password);\r\n        registro.append(\"correo\",email);\r\n        registro.append(\"genero\",genero);\r\n        registro.append(\"accion\",accion);\r\n        registro.append(\"fecha_creacion\", fechaActual.getFullYear() + \"-\" + \"0\" + (fechaActual.getMonth() + 1) + \"-\" + \"0\" + (fechaActual.getUTCDay() + 1));\r\n       \r\n        \r\n\r\n        if(e.target.value == 'registro'){\r\n            //insertar registro usuario BD\r\n            insertarBD(registro);\r\n        }\r\n      }\r\n  });\r\n}\r\n\r\n\r\nfunction insertarBD(registro){\r\n\r\n console.log(...registro);\r\n\r\n\r\n //crear el objeto \r\n\r\n let xhttp = new XMLHttpRequest();\r\n\r\n\r\n //abrir la conexion\r\n xhttp.open('POST','models/usuario', true);\r\n\r\n //leer la respuesta\r\n\r\n xhttp.onload = function(){\r\n\r\n    if(this.status == 200){\r\n\r\n\r\n\r\n        console.log(xhttp.responseText)\r\n\r\n        if(!xhttp.responseText){\r\n\r\n            mensaje(\"Hubo un error: puede ser que el correo ya este registrado\", \"error\");\r\n            return;\r\n        }\r\n\r\n        Swal.fire(\r\n            'Registrado!',\r\n            'Te vamos a llevar al login para que inicies sesión',\r\n            'success'\r\n          );\r\n\r\n        setTimeout(() => {\r\n        \r\n       window.location.href = '/login';\r\n        }, 3000);\r\n      \r\n\r\n\r\n      \r\n    }\r\n }\r\n\r\n\r\n //enviar los datos\r\n\r\n xhttp.send(registro);\r\n\r\n\r\n}\r\n\r\nfunction mensaje(mensaje , tipo){\r\n\r\n  let formContacto = document.querySelector(\".form-registro\");\r\n\r\n  if(document.querySelector('.mensaje') == null){\r\n\r\n  let divMensaje = document.createElement(\"div\");\r\n  divMensaje.classList.add(\"mensaje\", tipo);\r\n\r\n  divMensaje.style.width = '100%'; \r\n  divMensaje.style.borderRadius = '1rem%'; \r\n  divMensaje.style.paddin = '.1rem 0'; \r\n  divMensaje.style.opacity = '1'; \r\n  divMensaje.style.transition = 'opacity 2s ease%'; \r\n  divMensaje.style.backgroundColor = 'red'; \r\n  divMensaje.style.textAlign = 'center'; \r\n  \r\n\r\n  let cuerpoMensaje = document.createElement(\"div\");\r\n  cuerpoMensaje.classList.add(\"contenido-mensaje\");\r\n\r\n\r\n\r\n  cuerpoMensaje.innerHTML = `<p style=\"color:white\">${mensaje}</p>`;\r\n\r\n  divMensaje.appendChild(cuerpoMensaje);\r\n\r\n  formContacto.appendChild(divMensaje);\r\n\r\n\r\n  setTimeout(() => {\r\n    divMensaje.remove();\r\n  }, 3000);\r\n  }\r\n\r\n\r\n\r\n}\r\n"]}